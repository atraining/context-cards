function FamShare(e,t,n,i){function o(e,t){try{var n,i=0,o=e.length;if(void 0===o||"function"==typeof e){for(n in e)if(!1===t.call(e[n],n,e[n]))break}else for(;i<o&&!1!==t.call(e[i],i,e[i++]););}catch(e){console.log(e)}return e}function r(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}var a=this,c=function(e,t,n,i){n._fallsmbind=!0,n.addEventListener?n.addEventListener(e,function(e){t&&r(e,{data:t,element:n}),i(e)},!1):n.attachEvent&&n.attachEvent("on"+e,function(e){t&&r(e,{data:t,element:n}),i(e)})};this.status={update:function(e){if("event"==e[0]){var t=new RegExp("{binded:([a-zA-Z]*)","ig").exec(e[1]);if(t&&t.length>1){t=t[1];var n=[],i=ndg_meta.shares[t];n[t]=i||0,n[t]+=1,r(ndg_meta.shares,n)}}}};var s=function(){console&&console.log,a.status.update(arguments)},u=function(){var e=function(e){var t,n,i=document.getElementsByTagName("*");for(t=0,n=i.length;t<n;t++){var o={node:i[t],listeners:[]};if(void 0!==i[t]&&"function"==typeof i[t].onclick){var r=i[t].onclick.toString(),a=/function.*onclick.*{(.*)}/gi,c=r.replace(/(\r\n|\n|\r)/gm,""),s=a.exec(c);s&&void 0!==s[1]&&"function"==typeof window[s[1]]&&(r=window[s[1]].toString()),o.listeners.push({type:"click",func:r,removed:!1,source:"DOM 0 event"}),e.elements.push(o)}}return e.elements},t=function(e){function t(e,t){jQuery.each(t,function(t,i){i.handle&&n(e,i,i.handle.elem)})}function n(t,n,i){if("object"==typeof n){var o;"object"==typeof n.events&&(o=n.events),o||(o=jQuery._data(n,"events"));var r;for(var a in o)if(o.hasOwnProperty(a)){if("live"==a)continue;var c=o[a];for(var s in c){if(c.hasOwnProperty(s)){var u=[],d="jQuery "+jQuery.fn.jquery;void 0!==c[s].selector&&null!==c[s].selector?(u=jQuery(c[s].selector,i),d+=" (live event)"):u.push(i);for(var l=0,f=u.length;l<f;l++)e.elements.push({node:u[l],listeners:[]}),r=void 0!==c[s].origHandler?c[s].origHandler.toString():void 0!==c[s].handler?c[s].handler.toString():c[s].toString(),c[s]&&"0"!=r&&e.elements[e.elements.length-1].listeners.push({type:a,func:r,removed:!1,source:d})}e.elements.length&&0===e.elements[e.elements.length-1].listeners.length&&e.elements.splice(e.elements.length-1,1)}}}}!function(){if("undefined"==typeof jQuery||e.versionCompare(jQuery.fn.jquery,"<","1.5")||e.versionCompare(jQuery.fn.jquery,">=","1.7"))return[];var n=[];for(var i in jQuery.cache)t(n,jQuery.cache[i])}(),function(){if("undefined"==typeof jQuery)return[];if(e.versionCompare(jQuery.fn.jquery,">=","1.4")&&e.versionCompare(jQuery.fn.jquery,"<","1.5")||e.versionCompare(jQuery.fn.jquery,">=","1.7")&&e.versionCompare(jQuery.fn.jquery,"<","1.8")){var n=[];return t(n,jQuery.cache),n}}(),function(){if("undefined"==typeof jQuery||e.versionCompare(jQuery.fn.jquery,"<","1.8"))return[];var t=[];jQuery(document).each(function(e,t){n(0,t,t)}),jQuery("*").each(function(e,t){n(0,t,t)})}(),function(){if("undefined"==typeof jQuery||e.versionCompare(jQuery.fn.jquery,">","1.3"))return[];var t=jQuery.cache;for(var n in t)if("object"==typeof t[n].events){var i=t[n].handle.elem;e.elements.push({node:i,listeners:[]});for(var o in t[n].events){var r,a=t[n].events[o];for(r in a)break;var c=a[r].toString();e.elements[e.elements.length-1].listeners.push({type:o,func:c,removed:!1,source:"jQuery"})}}e.elements}(),function(){if("undefined"==typeof jQuery||"undefined"!=jQuery.fn.live||void 0===jQuery.data||void 0===jQuery.data(document,"events")||void 0===jQuery.data(document,"events").live)return[];var t=[];jQuery.cache;jQuery.each(jQuery.data(document,"events").live||[],function(t,n){var i=n.type.split(".");i=i[0];var o=n.data;jQuery(o).each(function(t){e.elements.push({node:this,listeners:[]}),e.elements[e.elements.length-1].listeners.push({type:i,func:"Unable to obtain function from live() bound event.",removed:!1,source:"jQuery 1.3 live"})})})}()},n=function(e){if("undefined"==typeof MooTools)return[];var t,n,i,o,r=document.getElementsByTagName("*");for(t=0,n=r.length;t<n;t++)if(i=r[t].retrieve("events",{}),!isEmpty(i)){e.elements.push({node:r[t],listeners:[]});for(o in i)e.elements[e.elements.length-1].listeners.push({type:o,func:i[o].keys.toString(),removed:!1,source:"MooTools"})}return e.elements},i=function(e){if("undefined"==typeof Prototype)return[];var t,n,i,o=[],r=document.getElementsByTagName("*");for(t=0,n=r.length;t<n;t++)if(e.versionCompare(Prototype.Version,">","1.7")){if(void 0!==$(r[t])._prototypeUID){e.elements.push({node:r[t],listeners:[]});for(i in Event.cache[$(r[t])._prototypeUID])"element"!=i&&e.elements[e.elements.length-1].listeners.push({type:i,func:Event.cache[$(r[t])._prototypeUID][i][0].handler.toString(),removed:!1,source:"Prototype"})}}else{var a="function"==typeof r[t].getStorage?r[t].getStorage():void 0;if(a){var c="function"==typeof a.get?a.get("prototype_event_registry"):void 0;if(c){var s="function"==typeof c.get?c.get("click"):void 0;s&&(e.elements.push({node:r[t],listeners:[]}),s.each(function(t){e.elements[e.elements.length-1].listeners.push({type:i,func:t.handler.toString(),removed:!1,source:"Prototype"})}))}}}return o};return{elements:[],init:function(){e(this),t(this),n(this),i(this)},versionCompare:function(e,t,n){for(var i,o,r=e.split("."),a=n.split("."),c=0,s=0,u=a.length>r.length?a.length:r.length;s<u;s++){if(i=parseInt(r[s],10)||0,o=parseInt(a[s],10)||0,i<o){c=-1;break}if(i>o){c=1;break}}if("<"===t)return-1===c;if("<="===t)return-1===c||0===c;if("=="===t)return 0===c;if(">="===t)return 0===c||1===c;if(">"===t)return 1===c;throw"Unknown operator: "+t}}};return this.iTracker=function(e,t){e._fallsmbind=!0;var n=e.parentNode;this.TrackerList=this.TrackerList||[],e.parentNode?o(this.TrackerList,function(t,i){i==e.parentNode&&(n=e)}):n=e,this.TrackerList.push(n),this.plugins.iTracker.add(e,t)},this.addNetworks=function(e){this.plugins.oNetworks=[];var n=this,i=["facebook","twitter","google","linkedin","pinterest","addthis","sharethis","stumbleupon","tumblr","reddit","digg","myspace","fancy","flipboard","shareaholic","sharedaddy","shareLinks","custom","buzzfeed","user_def","sharre","gigya"];o(i,function(e,t){n.plugins.oNetworks[t]=new n.plugins.networks[t]});var r=t.getElementsByTagName("a"),a=t.getElementsByTagName("iframe"),c=t.getElementsByTagName("button"),s=t.getElementsByTagName("span");o(r,function(e,t){o(i,function(e,i){if(void 0!==t._fallsmbind&&1==t._fallsmbind)return!0;n.plugins.oNetworks[i]&&n.plugins.oNetworks[i].link&&n.plugins.oNetworks[i].link(t)})}),o(a,function(e,t){o(i,function(e,i){if(void 0!==t._fallsmbind&&1==t._fallsmbind)return!0;n.plugins.oNetworks[i]&&n.plugins.oNetworks[i].frame&&n.plugins.oNetworks[i].frame(t)})}),o(c,function(e,t){o(i,function(e,i){if(void 0!==t._fallsmbind&&1==t._fallsmbind)return!0;n.plugins.oNetworks[i]&&n.plugins.oNetworks[i].button&&n.plugins.oNetworks[i].button(t)})}),o(s,function(e,t){o(i,function(e,i){if(void 0!==t._fallsmbind&&1==t._fallsmbind)return!0;n.plugins.oNetworks[i]&&n.plugins.oNetworks[i].span&&n.plugins.oNetworks[i].span(t)})}),"function"==typeof e&&e()},this.plugins={},r(this.plugins,{ncaevents:{last_notified:void 0,notifyShare:function(e){if(void 0!==this.last_notified&&new Date-this.last_notified<2e3)return!1;this.last_notified=new Date,n.transport.notifyShare(e);var t=new CustomEvent("ndg_shares",{detail:{network:e}});document.dispatchEvent(t)}},networks:{facebook:function(){var e=this,t=function(){return!!(e.fb_triggered&&new Date-e.fb_triggered<7e3)||(e.fb_triggered=new Date,!1)};e.addFacebookFrame=function(e){void 0!==e&&(s("event"," {binded:facebook,from:frame}"),a.iTracker(e,{blurCallback:function(){t()||(s("event"," {tracked:facebook,from:frame}"),a.plugins.ncaevents.notifyShare("facebook"))}}))};try{"undefined"!=typeof FB&&FB.Event.subscribe("message.send",function(){t()||(s("event"," {triggered_native:facebook}"),a.plugins.ncaevents.notifyShare("facebook"))})}catch(e){s("Error",e)}return{link:function(e){try{("object"==typeof e&&e.getAttribute("href")&&e.getAttribute("href").match(/facebook\.com\/(sharer\/)?sharer\.php/)||e.getAttribute("onclick")&&e.getAttribute("onclick").match(/facebook\.com\/(sharer\/)?sharer\.php/))&&(s("event"," {binded:facebook}"),c("click",{},e,function(){s("event"," {tracked:facebook}"),a.plugins.ncaevents.notifyShare("facebook")}))}catch(e){s("Error",e)}},frame:function(t){t.src.match(/facebook\.com\/.*plugins\/share_button\.php/)?e.addFacebookFrame(t):t.src.match(/facebook\.com\/.*plugins\/like\.php/)&&e.addFacebookFrame(t)}}},twitter:function(){var e=this,t=function(){return!!(e.tw_triggered&&new Date-e.tw_triggered<7e3)||(e.tw_triggered=new Date,!1)};return e.addTwitterFrame=function(e){void 0!==e&&(s("event"," {binded:twitter,from:frame}"),a.iTracker(e,{blurCallback:function(){t()||(s("event"," {tracked:twitter,from:frame}"),a.plugins.ncaevents.notifyShare("twitter"))}}))},"undefined"!=typeof twttr&&twttr.ready(function(e){e.events.bind("tweet",function(e){t()||(s("event"," {tracked_native:twitter}"),a.plugins.ncaevents.notifyShare("twitter"))})}),{link:function(e){var t=e.getAttribute("href"),n=e.getAttribute("onclick");(t&&t.match(/twitter\.com\/share/)||n&&n.match(/twitter\.com\/share/)||n&&n.match(/twitter\.com\/intent\/tweet/)||t&&t.match(/twitter\.com\/intent\/tweet/)||n&&n.match(/twitter\.com\/home(.*)status=/)||t&&t.match(/twitter\.com\/home(.*)status=/))&&(s("event"," {binded:twitter}"),c("click",{},e,function(){s("event"," {tracked:twitter,from:anchor}"),a.plugins.ncaevents.notifyShare("twitter")}))},frame:function(t){t.src.match(/platform\.twitter.com\/widgets\/tweet_button/)&&e.addTwitterFrame(t)}}},google:function(){var e=this;return e.addGoogleFrame=function(e){void 0!==e&&(s("event"," {binded:google,from:frame}"),a.iTracker(e,{blurCallback:function(){s("event"," {tracked:google,from:frame}"),a.plugins.ncaevents.notifyShare("google")}}))},{link:function(e){var t=e.getAttribute("href"),n=e.getAttribute("onclick");(t&&t.match(/plus\.google\.com\/share/)||n&&n.match(/plus\.google\.com\/share/))&&(s("event"," {binded:google}"),c("click",{},e,function(){s("event"," {tracked:google}"),a.plugins.ncaevents.notifyShare("google")}))},frame:function(t){t.src.match(/http(s)?:\/\/apis\.google\.com[\S]*fastbutton/)&&e.addGoogleFrame(t)}}},linkedin:function(){document.getElementsByTagName("a");this.addLinkedinFrame=function(e){void 0!==e&&(s("event"," {binded:linkedin,from:frame}"),a.iTracker(e,{blurCallback:function(){s("event"," {tracked:linkedin}"),a.plugins.ncaevents.notifyShare("linkedin")}}))};return o(document.getElementsByTagName("span"),function(e,t){if(void 0!==t._fallsmbind&&1==t._fallsmbind)return!0;-1!=t.textContent.indexOf("inShare")&&"IN-widget"==t.getAttribute("class")&&(s("event"," {binded:linkedin}"),c("click",{},t,function(){s("event"," {tracked:linkedin}"),a.plugins.ncaevents.notifyShare("linkedin")}))}),{link:function(e){var t=e.getAttribute("href"),n=e.getAttribute("onclick");(t&&t.match(/linkedin\.com\/shareArticle/)||n&&n.match(/linkedin\.com\/shareArticle/))&&(s("event"," {binded:linkedin}"),c("click",{},e,function(){s("event"," {tracked:linkedin}"),a.plugins.ncaevents.notifyShare("linkedin")}))},frame:function(e){}}},pinterest:function(){return{link:function(e){var t=e.getAttribute("href"),n=e.getAttribute("onclick");t&&t.match(/pinterest\.com\/pin\/create\/button/)||n&&n.match(/pinterest\.com\/pin\/create\/button/)||t&&t.match(/assets\.pinterest.com\/js\/pinmarklet\.js/)?(s("event"," {binded:pinterest}"),c("click",{},e,function(){s("event"," {tracked:pinterest}"),a.plugins.ncaevents.notifyShare("pinterest")})):e.getAttribute("class")&&e.getAttribute("class").match(/pin_it_button/)&&(s("event"," {binded:pinterest}"),c("click",{},e,function(){s("event"," {tracked:pinterest}"),a.plugins.ncaevents.notifyShare("pinterest")}))}}},stumbleupon:function(){var e=this;return e.addStumbleuponFrame=function(e){void 0!==e&&(s("event"," {binded:stumbleupon,from:frame}"),a.iTracker(e,{blurCallback:function(){s("event"," {tracked:stumbleupon,from:frame}"),a.plugins.ncaevents.notifyShare("stumbleupon")}}))},{link:function(e){e.getAttribute("href")&&e.getAttribute("href").match(/stumbleupon\.com\/submit/)&&(s("event"," {binded:stumbleupon}"),c("click",{},e,function(){s("event"," {tracked:stumbleupon}"),a.plugins.ncaevents.notifyShare("stumbleupon")}))},frame:function(t){t.src.match(/stumbleupon\.com\/badge\/embed/)&&e.addStumbleuponFrame(t)}}},tumblr:function(){return{link:function(e){var t=e.getAttribute("href");t&&(t.match(/tumblr\.com\/share/)||t.match(/tumblr\.com\/reblog/))&&(s("event"," {binded:tumblr}"),c("click",{},e,function(e){e.defaultPrevented||(e.preventDefault(),a.plugins.ncaevents.shareCallback("tumblr",function(){window.location=t}),window.setTimeout(function(){window.location=t},2e3)),s("event"," {tracked:tumblr}"),a.plugins.ncaevents.notifyShare("tumblr")}))}}},reddit:function(){return{link:function(e){var t=e.getAttribute("href"),n=e.getAttribute("onclick");(t&&t.match(/reddit\.com\/submit/)||n&&n.match(/reddit\.com\/submit/))&&(s("event"," {binded:reddit}"),c("click",{},e,function(){s("event"," {tracked:reddit}"),a.plugins.ncaevents.notifyShare("reddit")}))}}},digg:function(){return{link:function(e){e.getAttribute("href")&&e.getAttribute("href").match(/digg\.com\/submit/)&&(s("event"," {binded:digg}"),c("click",{},e,function(){s("event"," {tracked:digg}"),a.plugins.ncaevents.notifyShare("digg")}))}}},myspace:function(){return{link:function(e){e.getAttribute("href")&&e.getAttribute("href").match(/myspace\.com\/Modules\/PostTo/)&&(s("event"," {binded:myspace}"),c("click",{},e,function(){s("event"," {tracked:myspace}"),a.plugins.ncaevents.notifyShare("myspace")}))}}},fancy:function(){return{link:function(e){e.getAttribute("href")&&e.getAttribute("href").match(/thefancy\.com\/fancyit/)&&(s("event"," {binded:fancy}"),c("click",{},e,function(){s("event"," {tracked:fancy}"),a.plugins.ncaevents.notifyShare("fancy")}))}}},flipboard:function(){return{link:function(e){e.getAttribute("href")&&e.getAttribute("href").match(/share\.flipboard\.com\/bookmarklet/)&&(s("event"," {binded:flipboard}"),c("click",{},e,function(){s("event"," {tracked:flipboard}"),a.plugins.ncaevents.notifyShare("flipboard")}))}}},addthis:function(){return{link:function(e){if(e.getAttribute("class")&&-1!=e.getAttribute("class").indexOf("addthis_button")){var t=e.getAttribute("class"),n=new RegExp("facebook|twitter|google|pinterest|linkedin|stumbleupon|reddit|digg|tumblr|fancy|flipboard|delicious","ig").exec(t);if(n){var i=n[0].toLowerCase();s("event"," {binded:"+i+"}"),c("click",{},e,function(e){t=e.element.getAttribute("class");var o=new RegExp("facebook|twitter|google|pinterest|linkedin|stumbleupon|reddit|digg|tumblr|fancy|flipboard|delicious","ig");n=o.exec(t),i=n[0].toLowerCase(),s("event"," {tracked:"+i+"}"),a.plugins.ncaevents.notifyShare(i)})}}}}},sharethis:function(){return{span:function(e){if(e.getAttribute("class")&&e.getAttribute("class").match(/st_(twitter|google_plus|googleplus|google|facebook|pinterest|linkedin|tumblr)_custom/g)){var t=e.getAttribute("class").match(/twitter|google_plus|googleplus|facebook|pinterest|linkedin|tumblr/g).pop();s("event"," {binded:"+t+', type:"user_def"}'),c("click",{},e,function(e){"googleplus"!=t&&"google_plus"!=t||(t="google"),s("event"," {tracked:"+t+"}"),a.plugins.ncaevents.notifyShare(t)})}}}},shareaholic:function(){for(var e=document.getElementsByTagName("li"),t=!1,n=0;n<e.length;n++)if((void 0===e[n]._fallsmbind||1!=e[n]._fallsmbind)&&e[n].getAttribute("class")&&-1!=e[n].getAttribute("class").indexOf("shareaholic-share-button")){var i=e[n].getAttribute("data-service");if(i&&-1!=["facebook","twitter","google_plus","pinterest","linkedin","stumbleupon","reddit","digg","bebo","tumblr","fancy","flipboard","delicious"].indexOf(i)){u=i;"google_plus"==i&&(u="google"),t=!0,s("event"," {binded:"+u+"}"),c("click",{},e[n],function(e){var t=i=e.element.getAttribute("data-service");"google_plus"==i&&(t="google"),s("event"," {tracked:"+t+"}"),a.plugins.ncaevents.notifyShare(t)})}}if(!t)for(var e=document.getElementsByTagName("li"),n=0;n<e.length;n++)if((void 0===e[n]._fallsmbind||1!=e[n]._fallsmbind)&&e[n].getAttribute("class")&&-1!=e[n].getAttribute("class").indexOf("shareaholic")){var o=e[n].firstChild?e[n].firstChild.innerHTML:"",r=new RegExp("facebook|twitter|google|pinterest","ig");if(i=r.exec(o)){var u=i[0].toLowerCase();s("event"," {binded:"+u+"}"),c("click",{},e[n],function(e){o=e.element.firstChild?e.element.firstChild.innerHTML:"",i=r.exec(o),u=i[0].toLowerCase(),s("event"," {tracked:"+u+"}"),a.plugins.ncaevents.notifyShare(u)})}}return{link:function(e){e.getAttribute("class")&&-1!=e.getAttribute("class").indexOf("shareaholic-tweetbutton")&&(s("event"," {binded:twitter}"),c("click",{},e,function(){s("event"," {tracked:twitter}"),a.plugins.ncaevents.notifyShare("twitter")}))}}},shareLinks:function(){for(var e=document.getElementsByTagName("div"),t=0;t<e.length;t++)if((void 0===e[t]._fallsmbind||1!=e[t]._fallsmbind)&&e[t].getAttribute("class")&&-1!=e[t].getAttribute("class").indexOf("socialShareBtn")){var n=e[t].getAttribute("data-title"),i=new RegExp("facebook|twitter|google|pinterest|linkedin","ig").exec(n);if(i){var o=i[0].toLowerCase();s("event"," {binded:"+o+"}"),c("click",{},e[t],function(e){s("event"," {tracked:"+o+"}"),a.plugins.ncaevents.notifyShare(o)})}}return{link:function(e){}}},sharedaddy:function(){return{link:function(e){if(e.getAttribute("class")&&-1!=e.getAttribute("class").indexOf("share-")){var t=e.getAttribute("class").match(/twitter|reddit|google|facebook|pinterest|linkedin/g);t&&(s("event"," {binded:"+t+', type:"sharedaddy"}'),c("click",{},e,function(e){t=e.element.getAttribute("class").match(/twitter|reddit|google|facebook|pinterest|linkedin/g).pop(),s("event"," {tracked:"+t+"}"),a.plugins.ncaevents.notifyShare(t)}))}}}},custom:function(){try{var e=new u,t=function(e,t,n){s("event"," {binded:"+e+", from:native, source: "+n.source+"}"),c("click",{},t,function(){s("event"," {tracked:"+e+",from:native, source: "+n.source+"}"),a.plugins.ncaevents.notifyShare(e)})};e.init()}catch(e){s("error",e.message)}o(e.elements,function(e,n){var i=n.node;void 0===i._fallsmbind&&o(n.listeners,function(e,n){if("click"==n.type&&1!=n.removed){var r,a,c=n.func;i.getAttribute("data-provider")&&"googleplus"==(r=i.getAttribute("data-provider").match(/twitter|reddit|googleplus|facebook|pinterest|linkedin/g))&&(r="google"),c.match(/share/gi)&&r&&t(r,i,n),i.getAttribute("data-providers")&&(a=i.getAttribute("data-providers").match(/twitter|reddit|googleplus|facebook|pinterest|linkedin/g)),c.match(/share/gi)&&a&&o(i.children,function(e,i){void 0===i._fallsmbind&&i.getAttribute("data-provider")&&("googleplus"==(r=i.getAttribute("data-provider").match(/twitter|reddit|googleplus|facebook|pinterest|linkedin/g))&&(r="google"),r&&t(r,i,n))}),c.match(/facebook\.com\/(sharer\/)?sharer\.php/)?t("facebook",i,n):c.match(/twitter\.com\/share/)||c.match(/twitter\.com\/intent\/tweet/)||c.match(/twitter\.com\/home(.*)status=/)?t("twitter",i,n):c.match(/plus\.google\.com\/share/)?t("google",i,n):c.match(/linkedin\.com\/shareArticle/)?t("linkedin",i,n):c.match(/pinterest\.com\/pin\/create\/button/)||c.match(/assets\.pinterest.com\/js\/pinmarklet\.js/)?t("pinterest",i,n):c.match(/pinterest\.com\/pin\/create\/button/)?t("pinterest",i,n):c.match(/pin_it_button/)?t("pinterest",i,n):c.match(/stumbleupon\.com\/submit/)?t("stumbleupon",i,n):c.match(/tumblr\.com\/share/)||c.match(/tumblr\.com\/reblog/)?t("tumblr",i,n):c.match(/reddit\.com\/submit/)?t("reddit",i,n):c.match(/digg\.com\/submit/)?t("digg",i,n):c.match(/myspace\.com\/Modules\/PostTo/)?t("myspace",i,n):c.match(/thefancy\.com\/fancyit/)?t("fancy",i,n):c.match(/share\.flipboard\.com\/bookmarklet/)&&t("flipboard",i,n)}})})},buzzfeed:function(){return{link:function(e){if(e.getAttribute("rel:gt_act")&&e.getAttribute("class")&&-1!=e.getAttribute("class").indexOf("bf_dom shareBtn square")){var t=e.getAttribute("rel:gt_act")?e.getAttribute("rel:gt_act").match(/twitter|googleplus|facebook|pinterest/g):"";t&&(s("event"," {binded:"+t+"}"),c("click",{},e,function(e){"googleplus"==(t=e.element.getAttribute("rel:gt_act").match(/twitter|googleplus|facebook|pinterest/g).pop())&&(t="google"),s("event"," {tracked:"+t+"}"),a.plugins.ncaevents.notifyShare(t)}))}},button:function(e){if(e.getAttribute("data-action")&&e.getAttribute("class")&&-1!=e.getAttribute("class").indexOf("action-bar__btn")){var t=e.getAttribute("data-action").match(/twitter|googleplus|facebook|pinterest/g);t&&(s("event"," {binded:"+t+"}"),c("click",{},e,function(e){"googleplus"==(t=e.element.getAttribute("data-action").match(/twitter|googleplus|facebook|pinterest/g).pop())&&(t="google"),s("event"," {tracked:"+t+"}"),a.plugins.ncaevents.notifyShare(t)}))}}}},gigya:function(){for(var e=document.getElementsByTagName("div"),t=0;t<e.length;t++)if((void 0===e[t]._fallsmbind||1!=e[t]._fallsmbind)&&e[t].getAttribute("class")&&-1!=e[t].getAttribute("class").indexOf("gig-button-container")){var n=e[t].getAttribute("class").match(/twitter|googleplus|google|reddit|facebook|linkedin|pinterest/g);n&&("googleplus"==(n=n.pop())&&(n="google"),!0,s("event"," {binded:"+n+"}"),c("click",{},e[t],function(e){s("event"," {tracked:"+n+"}"),a.plugins.ncaevents.notifyShare(n)}))}return{}},user_def:function(){var e=function(e,t){var n=t.match(/twitter|google_plus|googleplus|facebook|pinterest|linkedin|tumblr|reddit/g);n&&(n=t.match(/twitter|google_plus|googleplus|facebook|pinterest|linkedin|tumblr|reddit/g).pop(),s("event"," {binded:"+n+', type:"user_def"}'),c("click",{},e,function(e){"googleplus"!=n&&"google_plus"!=n||(n="google"),s("event"," {tracked:"+n+"}"),a.plugins.ncaevents.notifyShare(n)}))},t=function(t){var n=document.createElement("span");n.appendChild(t.cloneNode());var i=n.innerHTML;/share/gi.test(i)&&e(t,i)},n=function(t){var n=t.id,i=t.parentNode.id;/share/gi.test(i)&&e(t,n)},i=function(t){var n=t.getAttribute("class");n&&-1!=n.indexOf("a2a_button")&&e(t,n)},o=function(t){var n=t.getAttribute("class"),i=n&&n.match(/p-share.*-share/g);if(i){i=n.match(/twt|fb|ldn|rdt/g).pop();var o={twt:"twitter",fb:"facebook",ldn:"linkedin",rdt:"reddit"};s("event"," {binded:"+(i=void 0!==o[i]?o[i]:i)+', type:"user_def"}'),c("click",{},t,function(e){"googleplus"!=i&&"google_plus"!=i||(i="google"),s("event"," {tracked:"+i+"}"),a.plugins.ncaevents.notifyShare(i)})}n&&-1!=n.indexOf("a2a_button")&&e(t,n)};return{link:function(e){t(e),n(e),i(e),o(e)}}},sharre:function(){for(var e=document.getElementsByTagName("li"),t=0;t<e.length;t++)if(void 0===e[t]._fallsmbind||1!=e[t]._fallsmbind){var n=e[t].parentNode.getAttribute("class");if(n&&n.indexOf("sharrre")>-1&&n.indexOf("sharing-options")>-1){var i=e[t].childNodes?e[t].childNodes[0]:null;if(i&&i.getAttribute&&i.getAttribute("class")){var o=i.getAttribute("class"),r=new RegExp("facebook|twitter|google|pinterest|linkedin|stumbleupon","ig").exec(o);if(r){var u=r[0].toLowerCase();s("event"," {binded:"+u+"}"),c("click",{},e[t],function(e){s("event"," {tracked:"+u+"}"),a.plugins.ncaevents.notifyShare(u)})}}}}return{link:function(e){}}}},iTracker:{add:function(e,t){this.handlersList.push(t);var n=this;c("mouseover",{handler:t},e,function(e){document.activeElement&&document.activeElement.blur(),e.data.handler.over=!0,window.focus&&window.focus(),n.focusRetrieved=!0}),c("mouseout",{handler:t},e,function(e){e.data.handler.over=!1})},focusRetriever:null,hasWindowFocus:!1,focusRetrieved:!1,handlersList:[],isIE8AndOlder:!1,frames:[],init:function(){var e=this;try{var t=navigator.userAgent.match(/(msie) ([\w.]+)/i);t&&t[2]<9&&(this.isIE8AndOlder=!0)}catch(e){}window.focus&&window.focus(),e.hasWindowFocus=!0,c("blur",{},window,function(t){e.windowLoseFocus(t),e.hasWindowFocus=!1}),c("focus",{},window,function(){e.hasWindowFocus=!0});var n=document.createElement("div"),i=document.createElement("input");i.setAttribute("type","text"),n.style.position="fixed",n.style.top="0px",n.style.left="0px",n.style.overflow="hidden",i.style.position="absolute",i.style.left="-300px",this.focusRetriever=i,n.appendChild(i);var o=document.getElementsByTagName("body");if(o.length&&o[0].appendChild(n),this.focusRetrieved=!1,c("mousemove",{},document,function(t){"IFRAME"==document.activeElement.tagName&&(e.focusRetriever.focus(),e.focusRetrieved=!0)}),c("blur",{},this.focusRetriever,function(t){t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,e.windowLoseFocus(t)}),this.isIE8AndOlder){c("click",{},o,function(e){window.focus&&window.focus()});for(var r=getElementsByTagName("form"),a=0;a<r.length;a++)c("click",{},r[a],function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0})}},windowLoseFocus:function(){for(var e in this.handlersList)if(1==this.handlersList[e].over)try{var t=this.handlersList[e].hit,n=(new Date).getTime();if(t&&n-t<1e3)return;this.handlersList[e].hit=(new Date).getTime(),this.handlersList[e].blurCallback()}catch(e){}return!0}}}),{init:function(){try{a.plugins.iTracker.init()}catch(e){}try{a.addNetworks()}catch(e){}a.check_mutations=0;var e=window.setInterval(function(){try{a.addNetworks()}catch(e){}a.check_mutations+=1,a.check_mutations>15&&window.clearTimeout(e)},3e3);return this}}}function FaCheck_adblocked(){this.baitClass="pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",this.baitStyle="width: 1px !important; height: 1px !important; position: absolute !important; ",this._creatBait()}window.ndg_meta={shares:{},videos:{}},function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}(),window.FamShare=new FamShare(window,document,fm_channel).init(),FaCheck_adblocked.prototype._creatBait=function(){var e=document.createElement("div");e.setAttribute("class",this.baitClass),e.setAttribute("style",this.baitStyle),this.bait=window.document.body.appendChild(e),this.bait.offsetParent,this.bait.offsetHeight,this.bait.offsetLeft,this.bait.offsetTop,this.bait.offsetWidth,this.bait.clientHeight,this.bait.clientWidth},FaCheck_adblocked.prototype.checkAdBlocked=function(){return this._checkBait()},FaCheck_adblocked.prototype._checkBait=function(){var e=!1;if(null===this.bait&&this._creatBait(),null===window.document.body.getAttribute("abp")&&null!==this.bait.offsetParent&&0!=this.bait.offsetHeight&&0!=this.bait.offsetLeft&&0!=this.bait.offsetTop&&0!=this.bait.offsetWidth&&0!=this.bait.clientHeight&&0!=this.bait.clientWidth||(e=!0),void 0!==window.getComputedStyle){var t=window.getComputedStyle(this.bait,null);!t||"none"!=t.getPropertyValue("display")&&"hidden"!=t.getPropertyValue("visibility")||(e=!0)}return this.bait.parentElement.removeChild(this.bait),e},window.FaAdblock=new FaCheck_adblocked,function(e,t,n){function i(e,t){try{var n,i=0,o=e.length;if(void 0===o||"function"==typeof e){for(n in e)if(!1===t.call(e[n],n,e[n]))break}else for(;i<o&&!1!==t.call(e[i],i,e[i++]););}catch(e){}return e}function o(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}function r(e,t,n,i){n._ndgbind=!0,n.addEventListener?n.addEventListener(e,function(e){t&&o(e,{data:t,element:n}),i(e)},!1):n.attachEvent&&n.attachEvent("on"+e,function(e){t&&o(e,{data:t,element:n}),i(e)})}function a(){console&&console.log&&u&&console.log("falls_",arguments)}function c(e){var t=[],n=ndg_meta.videos[e];t[e]=n||0,t[e]+=1,o(ndg_meta.videos,t)}var s={account:"",event_track_url:"https://e.ndg.io"},u=!1,d=function(){this.dct={},this.k=new Array};d.prototype.put=function(e,t){return this.dct[e]=t,-1==this.k.indexOf(e)&&this.k.push(e),this},d.prototype.get=function(e){return this.dct[e]},d.prototype.remove=function(e){var t=this.k.indexOf(e);return-1!=t&&(this.k.splice(t,1),delete this.dct[e]),this},d.prototype.clear=function(){this.dct={},this.k=new Array},d.prototype.size=function(){return this.k.length},d.prototype.query=function(){var e=[];for(var t in this.dct)this.dct.hasOwnProperty(t)&&e.push(encodeURIComponent(t)+"="+encodeURIComponent(this.dct[t]));return e.join("&")},d.prototype.send=function(e,n,i,o){var r=t.createElement("script");void 0!==o&&(r.id=o),r.src=e+"?"+this.query(),r.onload=function(){"function"==typeof n&&n(),void 0!==i&&!0===i&&r.parentNode.removeChild(r)},t.getElementsByTagName("head")[0].appendChild(r)};var l=function(){this.dct={},this.k=new Array};l.prototype.put=function(e,t){return this.dct[e]=t,-1==this.k.indexOf(e)&&this.k.push(e),this},l.prototype.get=function(e){return this.dct[e]},l.prototype.remove=function(e){var t=this.k.indexOf(e);return-1!=t&&(this.k.splice(t,1),delete this.dct[e]),this},l.prototype.clear=function(){this.dct={},this.k=new Array},l.prototype.size=function(){return this.k.length},l.prototype.query=function(){var e=[];for(var t in this.dct)this.dct.hasOwnProperty(t)&&e.push(encodeURIComponent(t)+"="+encodeURIComponent(this.dct[t]));return e.join("&")},l.prototype.send=function(e,t){var n=new Image(1,1);if(n.src=e+"?"+this.query(),n.style.display="none","function"==typeof t)if(n.complete)t();else{var i=!1;n.addEventListener("load",function(){1!=i&&t(),i=!0}),setTimeout(function(){1!=i&&(t(),i=!0)},4e3)}};var f={lastupdated:"",timerEventUpdate:null,isScrolledIntoView:function(e){var t=e.getBoundingClientRect(),n=t.top,i=t.bottom;return n<window.innerHeight&&i>=0},triggerEventPlaying:function(){if("undefined"!=typeof Event){var e=new Event("ndg_video_playing");document.dispatchEvent(e)}},onFinish:function(e,t){a(e+" player "+t+" finished playing"),clearInterval(this.timerEventUpdate)},onPlay:function(e,t,n,i){if(this.lastupdated&&new Date-this.lastupdated<2e3)return!1;this.lastupdated=new Date,a(e+" player "+t+" on playing");var o=new l;o.put("video_begin","true"),o.put("display_name",n),o.put("video_id",i),o.put("event_type","play"),o.put("account",s.account),o.put("url",window.location.href),o.send("https://ndg.io/video/");var r=this;this.timerEventUpdate=setInterval(function(){if(t&&!r.isScrolledIntoView(t))return!0;r.triggerEventPlaying()},1e3)},onPause:function(e,t){a(e+" player "+t+" on pause"),clearInterval(this.timerEventUpdate)},onClick:function(e){}},g=function(){var n={checkLib:function(){},detectVideos:function(){},bindEvents:function(){}};return{youtube:function(){var r=function(e){var t=e.src||"";return t.indexOf("youtube.com/embed/")>-1||t.indexOf("youtube.com/v/")>-1},s=function(e){for(var t=0;t<e.length;t++)r(e[t])&&(c("youtube"),g.videos.push(l(e[t])))},u=function(e,t,n){if(0===t.data)f.onFinish("youtube",e);else if(1===t.data){var i=t.target&&t.target.F&&t.target.F.videoData?t.target.F.videoData:n;f.onPlay("youtube",e,i.title,i.video_id)}else 2===t.data&&f.onPause("youtube",e)},l=function(e){var t=e.src;return-1===t.indexOf("enablejsapi")&&(t+=(t.indexOf("?")>0?"&":"?")+"enablejsapi=1",e.src=t),e},g=o({},n,{videos:[],checkLib:function(){return g.videos.length>0&&"undefined"==typeof YT&&(new d).send("//www.youtube.com/iframe_api"),g},detectVideos:function(){var e=t.getElementsByTagName("iframe");return s(e),g},bindEvents:function(){var t=!1,n=function(e){var t=e.match(/^.*(youtu.be\/|v\/|e\/|u\/\w+\/|embed\/|v=)([^#\&\?]*).*/);return t?t.pop():""},o=function(){0==g.videos.length&&g.detectVideos(),i(g.videos,function(e,i){t=!0;var o=new YT.Player(i,{events:{onReady:function(e){a("YouTube player ready")},onStateChange:function(e){var t=i.src,r={title:"",video_id:n(t)};void 0!==o.getVideoData?r=o.getVideoData():void 0!==o.j&&void 0!==o.j.videoData&&(r.title=o.j.videoData.title),u(i,e,r)}}})})};void 0===e.onYouTubeIframeAPIReady&&(e.onYouTubeIframeAPIReady=function(){o()});var r=e.setInterval(function(){1==t&&clearInterval(r),"undefined"!=typeof YT&&1==YT.loaded&&o()},1e3)}});return g},vimeo:function(){var r=function(e){return(e.src||"").indexOf("vimeo.com/video/")>-1},a=function(e){for(var t=0;t<e.length;t++)r(e[t])&&(c("vimeo"),u.videos.push(e[t]))},s=function(e,t,n,i){0===t.data?f.onFinish("vimeo",e):1===t.data?f.onPlay("vimeo",e,n,i):2===t.data&&f.onPause("vimeo",e)},u=o({},n,{videos:[],checkLib:function(){return u.videos.length>0&&(new d).send("https://player.vimeo.com/api/player.js",function(){var e=window.setInterval(function(){"undefined"!=typeof Vimeo&&(onVimeoNdgJsApiLoaded(),clearInterval(e))},1e3)}),u},detectVideos:function(){var e=t.getElementsByTagName("iframe");return a(e),u},bindEvents:function(){e.onVimeoNdgJsApiLoaded=function(){i(u.videos,function(e,t){var n=t,i=new Vimeo.Player(n);i.on("play",function(){i.getVideoId().then(function(e){i.getVideoTitle().then(function(t){s(n,{data:1},t,e)})})}),i.on("pause",function(){i.getVideoId().then(function(e){i.getVideoTitle().then(function(t){s(n,{data:2},t,e)})})}),i.on("ended",function(){i.getVideoId().then(function(e){i.getVideoTitle().then(function(t){s(n,{data:0},t,e)})})})})}}});return u},html5:function(){var e=function(e){for(var t=0;t<e.length;t++)c("html5"),a.videos.push(e[t])},t=function(e,t,n,i){0===t.data?f.onFinish("html5",e,n,i):1===t.data?f.onPlay("html5",e,n,i):2===t.data&&f.onPause("html5",e,n,i)},a=o({},n,{videos:[],checkLib:function(){return a},detectVideos:function(){var t=document.getElementsByTagName("video");return e(t),a},bindEvents:function(){this.play_triggered=!1;var e=this;i(a.videos,function(n,i){r("play",{},i,function(n){e.play_triggered=!0,t(i,{data:1},"",i.currentSrc)}),r("playing",{},i,function(n){e.play_triggered||(e.play_triggered=!0,t(i,{data:1},"",i.currentSrc))}),r("pause",{},i,function(e){t(i,{data:2})}),r("ended",{},i,function(e){t(i,{data:0})})})}});return a},facebook:function(){var e=function(e,t,n,i){0===e.data?f.onFinish("facebook",t,n,i):1===e.data?f.onPlay("facebook",t,n,i):2===e.data&&f.onPause("facebook",t,n,i)},t=o({},n,{videos:[],checkLib:function(){return t},detectVideos:function(){return t},bindEvents:function(){var t=window.setInterval(function(){"undefined"!=typeof FB&&(window.setTimeout(function(){FB.Event.subscribe("xfbml.ready",function(t){if("video"===t.type){var n=t.instance;n.subscribe("startedPlaying",function(n){var i=(n=document.getElementById(t.id)).getAttribute("data-href").match(/videos\/(\d*)\//);void 0!==i[1]&&e(1,n,"",i[1])});n.subscribe("paused",function(n){var i=(n=document.getElementById(t.id)).getAttribute("data-href").match(/videos\/(\d*)\//);void 0!==i[1]&&e(2,n,"",i[1])}),n.subscribe("finishedPlaying",function(n){var i=(n=document.getElementById(t.id)).getAttribute("data-href").match(/videos\/(\d*)\//);void 0!==i[1]&&e(0,n,"",i[1])})}})},1e3),window.clearTimeout(t))},1e3)}});return t},JWplayer:function(){var i=function(e){return(e.getAttribute("class")||"").indexOf("jw-video")>-1},r=function(e){for(var t=0;t<e.length;t++)i(e[t])&&(c("jwplayer"),u.videos.push(e[t]))},s=function(e,t,n,i){0===t.data?f.onFinish("JWplayer",e):1===t.data?f.onPlay("JWplayer",e,n,i):2===t.data&&f.onPause("JWplayer",e)},u=o({},n,{videos:[],checkLib:function(){if(u.videos.length>0)var e=window.setInterval(function(){"undefined"!=typeof jwplayer&&(onJWNdgJsApiLoaded(),clearInterval(e))},1e3);return u},detectVideos:function(){var e=t.getElementsByTagName("video");return r(e),u},bindEvents:function(){e.onJWNdgJsApiLoaded=function(){jwplayer().on("play",function(e){a("jw player playing");var t=jwplayer().getPlaylistItem(jwplayer().getPlaylistIndex());s(jwplayer().getContainer(),{data:1},"",t.file)}),jwplayer().on("pause",function(e){a("jw player pause");var t=jwplayer().getPlaylistItem(jwplayer().getPlaylistIndex());s(jwplayer().getContainer(),{data:2},"",t.file)}),jwplayer().on("complete",function(e){a("jw player complete");var t=jwplayer().getPlaylistItem(jwplayer().getPlaylistIndex());s(jwplayer().getContainer(),{data:0},"",t.file)})}}});return u}}}();window.setTimeout(function(){i(["vimeo","youtube","html5","facebook","JWplayer"],function(e,t){try{g[t]().detectVideos().checkLib().bindEvents()}catch(e){a(e)}})},3e3),"undefined"!=typeof vndg?i(vndg.q,function(e,t){void 0!==t[0]&&"Account"==t[0]&&(s.account=t[1])}):window.vndg=function(){i(arguments,function(e,t){if(void 0!==t[0]&&"Account"==t[0]){var n=t[1];n&&(s.account=n)}})}}(window,document);
//# sourceMappingURL=extra.min.js.map